# Day01 - AHT20 温湿度采集实验

## 一、项目简介
本实验基于 STM32 微控制器，完成CH1116oled屏幕的驱动编写与内容显示。  
实验过程中分别实现了 **文字绘制** 与 **图片绘制** 两种相对复杂功能。

---

## 二、硬件与开发环境
- MCU：STM32（CubeMX 自动生成工程）
- 1.3寸CH1116OLED
- 通信接口：
  - I2C（与CH1116通信）
- 开发工具：
  - STM32CubeMX（工程生成）
  - CLion（代码编写）

---

## 三、实现内容
- 基于 HAL 库驱动 OLED 显示屏，实现基础显示功能  
- 通过 I2C 与 OLED 进行通信，完成初始化与数据写入  
- 实现内容包括：  
  - OLED 上电初始化流程  
  - 字符与图标的显示  
- 使用现成取模工具完成字模与图标数据生成，降低开发复杂度  

---

## 四、工程结构说明
STM32_OLED_Display/  
├── Core/                // 主程序与外设初始化代码  
│   ├── oled.c / .h      // OLED 驱动代码  
│   ├── font.c / .h      // 字模与图标数据  
├── Drivers/             // HAL 库与底层驱动  
├── User/  
├── STM32_OLED_Display.ioc  
└── README.md  

---

## 五、关键技术点
- OLED 上电初始化时序控制  
- I2C 通信流程与数据写入方式  
- OLED 器件地址配置与总线扫描  
- 字模取模与数组化存储方式  
- 图标与字符在 OLED 上的显示调用流程  

---

## 六、遇到的问题与解决思路

- **问题**：程序下载后 OLED 屏幕最初不亮  
- **原因**：  
  1. OLED 器件 I2C 地址配置错误  
  2. 上电后立即初始化 OLED，器件尚未稳定  
- **解决**：  
  - 修改 OLED 驱动中使用的 I2C 器件地址，使其与实际硬件一致  
  - 在 OLED 初始化前增加上电延迟，保证供电稳定后再开始通信  

---

- **问题**：字模与图标显示流程初看较为繁琐  
- **原因**：若完全手动取模并编写字模数据，效率低且易出错  
- **解决**：  
  - 使用现成的取模网站 **波特律动取模助手** 生成字模数据，使整个流程显著简化  
  - 图标统一在 **iconfont** 网站下载，保证风格一致且资源易获取  

**完整流程说明：**  
1. 在 iconfont 网站下载所需图标并导出为位图  
2. 使用波特律动取模助手对字符或图标进行取模  
3. 将生成的字模数组复制到 `font.c` 文件中  
4. 在 `font.h` 中对相应字模进行声明  
5. 在 `main.c` 中调用 OLED 显示接口完成字符或图标显示  

---

## 七、当前不足与后续改进方向
- OLED 显示内容目前较为静态，可引入页面切换或简单动画效果  
- 字模与图标管理仍偏手工，后续可尝试统一生成脚本  
- 驱动接口可进一步抽象，以提高代码复用性  

---

## 八、学习记录
- 初步掌握 OLED 显示屏的初始化与驱动流程  
- 理解了 I2C 器件地址与上电时序对外设工作的影响  
- 熟悉了从图标获取、取模到实际显示的完整嵌入式显示开发流程  
